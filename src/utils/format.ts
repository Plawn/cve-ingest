import { sha1 } from "https://denopkg.com/chiefbiiko/sha1@master/mod.ts";

export function prepareDate(date: Date) {
  return ISODateString(date);
}

function ISODateString(d: Date) {
  const pad = (n: number) => {
    return n < 10 ? "0" + n : n;
  };
  return d.getUTCFullYear() + "-" +
    pad(d.getUTCMonth() + 1) + "-" +
    pad(d.getUTCDate()) + "T" +
    pad(d.getUTCHours()) + ":" +
    pad(d.getUTCMinutes()) + ":" +
    pad(d.getUTCSeconds()) + ".000%2B01:00";
}

export function formatDate(date: Date) {
  return `${date.toISOString().slice(0,10)} ${date.toISOString().slice(11,19)}`
}

export function sha1Hex(b: string): string {
  return sha1(b, "utf8", "hex") as string;
}
